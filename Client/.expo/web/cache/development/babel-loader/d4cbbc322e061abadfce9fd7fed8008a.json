{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Juany\\\\Escritorio Jun 2020\\\\Programacion\\\\React Native\\\\Genius\\\\Client\\\\screens\\\\DeckDetails.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { NavigationEvents } from 'react-navigation';\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport { globalStyles } from \"../styles/globalStyles\";\nimport Card from \"../shared/Card\";\nimport apiClient from \"../apiClient\";\nimport { showFadeMessage } from \"../sharedFunctions\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nexport default function DeckDetails(_ref) {\n  var navigation = _ref.navigation;\n  var addCard = navigation.getParam('addCard');\n  var editCard = navigation.getParam('editCard');\n  var deleteCard = navigation.getParam('deleteCard');\n  var setNextReview = navigation.getParam('setNextReview');\n  var deck = navigation.getParam('item');\n\n  var _useState = useState(deck.cards.length),\n      _useState2 = _slicedToArray(_useState, 2),\n      deckLength = _useState2[0],\n      setDeckLength = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fadeMessage = _useState4[0],\n      setFadeMessage = _useState4[1];\n\n  var handleShare = function handleShare(deck) {\n    var sharedDeck;\n    return _regeneratorRuntime.async(function handleShare$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(apiClient.shareDeck(deck));\n\n          case 2:\n            sharedDeck = _context.sent;\n            if (sharedDeck) setFadeMessage(showFadeMessage('Deck shared'));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(ScrollView, {\n    contentContainerStyle: {\n      flexGrow: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: _objectSpread(_objectSpread({}, globalStyles.container), globalStyles.subContainer),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, React.createElement(NavigationEvents, {\n    onDidFocus: function onDidFocus() {\n      return setDeckLength(deck.cards.length);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: _objectSpread(_objectSpread({}, globalStyles.titleText), {}, {\n      marginBottom: 10\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, deck.title), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.push('DeckAllCards', {\n        editCard: editCard,\n        deleteCard: deleteCard,\n        deck: deck\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      flex: 1,\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 15\n    }\n  }, deckLength, \" cards\"))), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: \"space-between\",\n      alignItems: 'center',\n      marginVertical: 5\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.push('DeckAllCards', {\n        editCard: editCard,\n        deleteCard: deleteCard,\n        deck: deck\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, \"See all cards\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return handleShare(deck);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, React.createElement(FontAwesome, {\n    name: \"share\",\n    style: {\n      fontSize: 20,\n      color: '#4F74FF'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }), \"Share\"))), React.createElement(Button, {\n    title: \"Study\",\n    onPress: function onPress() {\n      return navigation.push('CardDetails', {\n        cardsToStudy: deck.cards.filter(function (card) {\n          return card.nextReview < Date.now();\n        }),\n        setNextReview: setNextReview,\n        deckTitle: deck.title\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }), React.createElement(MaterialIcons, {\n    name: \"add\",\n    size: 24,\n    style: _objectSpread(_objectSpread({}, styles.modalToggle), styles.modalClose),\n    onPress: function onPress() {\n      return navigation.push('AddOrEditCard', {\n        addCard: addCard,\n        deckTitle: deck.title\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  })), fadeMessage));\n}\nvar styles = StyleSheet.create({\n  modalToggle: {\n    marginTop: 20,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: 'lightgrey',\n    padding: 10,\n    borderRadius: 30,\n    alignSelf: 'center'\n  },\n  modalClose: {\n    marginTop: 20,\n    marginBottom: 10\n  },\n  modalContent: {\n    flex: 1\n  },\n  text: {\n    marginTop: 10,\n    marginBottom: 10\n  }\n});","map":{"version":3,"sources":["C:/Juany/Escritorio Jun 2020/Programacion/React Native/Genius/Client/screens/DeckDetails.js"],"names":["React","useState","MaterialIcons","NavigationEvents","FontAwesome","globalStyles","Card","apiClient","showFadeMessage","DeckDetails","navigation","addCard","getParam","editCard","deleteCard","setNextReview","deck","cards","length","deckLength","setDeckLength","fadeMessage","setFadeMessage","handleShare","shareDeck","sharedDeck","flexGrow","container","subContainer","flex","titleText","marginBottom","title","push","textAlign","flexDirection","justifyContent","alignItems","marginVertical","styles","text","fontSize","color","cardsToStudy","filter","card","nextReview","Date","now","deckTitle","modalToggle","modalClose","StyleSheet","create","marginTop","borderWidth","borderColor","padding","borderRadius","alignSelf","modalContent"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { StyleSheet, View, Text, Button, TouchableOpacity, ScrollView } from 'react-native';\r\nimport { MaterialIcons } from '@expo/vector-icons';\r\nimport { NavigationEvents } from 'react-navigation';\r\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\r\n\r\nimport { globalStyles } from '../styles/globalStyles';\r\nimport Card from '../shared/Card';\r\nimport apiClient from '../apiClient';\r\nimport { showFadeMessage } from '../sharedFunctions';\r\nimport { ImageBackground } from 'react-native';\r\n\r\n\r\nexport default function DeckDetails ({ navigation }) {\r\n  const addCard = navigation.getParam('addCard');\r\n  const editCard = navigation.getParam('editCard');\r\n  const deleteCard = navigation.getParam('deleteCard');\r\n  const setNextReview = navigation.getParam('setNextReview');\r\n  const deck = navigation.getParam('item');\r\n  const [deckLength, setDeckLength] = useState(deck.cards.length);\r\n  const [fadeMessage, setFadeMessage] = useState(false);\r\n\r\n  const handleShare = async (deck) => {\r\n    const sharedDeck = await apiClient.shareDeck(deck);\r\n    if (sharedDeck) setFadeMessage(showFadeMessage('Deck shared'));\r\n  }\r\n\r\n\r\n  return (\r\n    <ScrollView contentContainerStyle={{ flexGrow: 1 }}>\r\n      <View style={{ ...globalStyles.container, ...globalStyles.subContainer }}>\r\n        <View style={{ flex: 1 }}>\r\n          <NavigationEvents\r\n            onDidFocus={() => setDeckLength(deck.cards.length)}\r\n          />\r\n          <Text style={{ ...globalStyles.titleText, marginBottom: 10 }}>{deck.title}</Text>\r\n          <TouchableOpacity onPress={() => navigation.push('DeckAllCards', { editCard, deleteCard, deck })}>\r\n            <Card>\r\n              <Text style={{ flex: 1, textAlign: 'center' }}>{deckLength} cards</Text>\r\n            </Card>\r\n          </TouchableOpacity>\r\n          <View style={{ flexDirection: 'row', justifyContent: \"space-between\", alignItems: 'center', marginVertical: 5 }}>\r\n            <TouchableOpacity onPress={() => navigation.push('DeckAllCards', { editCard, deleteCard, deck })}>\r\n              <Text style={styles.text}>See all cards</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity onPress={() => handleShare(deck)}>\r\n              <Text>\r\n                <FontAwesome name='share' style={{ fontSize: 20, color: '#4F74FF' }} />\r\n              Share\r\n            </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <Button title='Study' onPress={() => navigation.push('CardDetails', { cardsToStudy: deck.cards.filter(card => card.nextReview < Date.now()), setNextReview, deckTitle: deck.title })} />\r\n          <MaterialIcons\r\n            name='add'\r\n            size={24}\r\n            style={{ ...styles.modalToggle, ...styles.modalClose }}\r\n            onPress={() => navigation.push('AddOrEditCard', { addCard, deckTitle: deck.title })}\r\n          />\r\n        </View >\r\n        {\r\n          fadeMessage\r\n        }\r\n      </View >\r\n    </ScrollView >\r\n  )\r\n}\r\n\r\n// Estos estilos se repiten en Home, son los del \"+\", puedo sin√≥ crear un componente para los \"+\"\r\nconst styles = StyleSheet.create({\r\n  modalToggle: {\r\n    marginTop: 20,\r\n    marginBottom: 10,\r\n    borderWidth: 1,\r\n    borderColor: 'lightgrey',\r\n    padding: 10,\r\n    borderRadius: 30,\r\n    alignSelf: 'center',\r\n  },\r\n  modalClose: {\r\n    marginTop: 20,\r\n    marginBottom: 10,\r\n  },\r\n  modalContent: {\r\n    flex: 1,\r\n  },\r\n  text: {\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}